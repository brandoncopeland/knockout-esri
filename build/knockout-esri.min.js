//knockout-esri v0.1.0 | (c) 2012 BrandonCopeland
(function(e,a,d,b,c){d.esri=d.esri||{};d.esri.MapBinding=function(){var m=this;var k="mapObject";var j="isLoaded";var g="extent";var i="layers";var l="onClick";var n=function(p,o){if(p&&o){a.each(o,function(q,r){if(a.inArray(r.id,p.layerIds)===-1&&a.inArray(r.id,p.graphicsLayerIds)===-1){p.addLayer(r,q)}})}};var h=function(o){var p;b.connect(o,"onLoad",function(q){b.connect(e,"onresize",function(r){if(a(o.container).is(":visible")){e.clearTimeout(p);p=e.setTimeout(function(){o.resize();o.reposition()},100)}})})};var f={init:function(o,s){b.require("esri.map");var p=o.id;var r=s();var q={fadeOnZoom:true,fitExtent:true,logo:false};b.ready(function(){var t=new c.Map(p,q);if(r[k]){r[k](t)}h(t);if(r[j]){b.connect(t,"onLoad",function(u){r[j](t.loaded)})}if(r[l]){b.connect(t,"onClick",r[l])}if(r[g]){b.connect(t,"onExtentChange",function(u){r[g](u)})}if(r[i]){d.computed(function(){n(t,r[i]())})}})}};d.bindingHandlers.esriMap=f};d.esri.MapBinding=new d.esri.MapBinding()}(window,jQuery,ko,dojo,esri));